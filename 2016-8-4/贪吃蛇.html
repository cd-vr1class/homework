<html>
<head>
<script>

function Snake()
{
    this.arr = [[0,0,0,0],
                [0,0,1,0],   
                [0,0,1,0],
                [0,0,0,0]];
    this.dir = -2;    // -1 左 1 右  -2 上 2 下
    this.points = [[1,2],[2,2]];
    this.show = function ()
                {
                    for(var i in this.arr)
                    {
                        for(var j in this.arr[i])
                        {
                            this.arr[i][j] = 0;
                        }
                    }
                    for(var i in this.points)
                    {
                        var x = this.points[i][0];
                        var y = this.points[i][1];
                        this.arr[x][y] = 1;
                    }
                    return this.arr;
                }
                
    this.divs = [];         
    this.showHTML= function ()
    {
        if(this.divs.length == 0)
            this.initHTML();
        else
        {
            for(var i in this.arr)
            {
                for(var j in this.arr[i])
                {
                    if(this.arr[i][j]==0)
                        this.divs[i][j].style.background = "gray";
                    else
                        this.divs[i][j].style.background = "black";
                }
            }
        }
        
        
        
    }
    this.initHTML=function ()
    {
        for(var i in this.arr)
        {
            var d = [];
            for(var j in this.arr[i])
            {
                var div = document.createElement("div");
                div.style.width = "100px";
                div.style.height = "100px";
                if(this.arr[i][j]==0)
                    div.style.background = "gray";
                else
                    div.style.background = "black";
                div.style.position = "absolute";
                div.style.left = j*100+"px";
                div.style.top = i*100+"px";
                document.body.appendChild(div);
                d.push(div);
            }
            this.divs.push(d);
        }
    }
    
    this.moveleft =  function ()
                     {
                         var dir = -1;// -1 左
                         if(dir+this.dir==0)
                             return;
                         this.points.pop();
                         var head = this.points[0];
                         var next = [head[0],head[1]-1];
                         this.points.unshift(next);
                         this.dir = dir;
                         this.show();
                     }
}



var s = new Snake();
function f(e)
{
    if(e.keyCode==37)
    {
        s.moveleft();
        s.showHTML();
    }
}
document.onkeydown = f;



</script>
</head>
<body onload="s.showHTML();">
</body>
</html>